%%% Deps

{deps, [{lfe, "1.1.1"}, {elli, "1.0.5"}, {erlydtl, "0.12.0"}]}.

%%% Profiles

{profiles, [
  {test, [
    {erl_opts, [{src_dirs, ["src", "test"]}]},
    {eunit_compile_opts, [{src_dirs, ["test", "src"]}]},
    {deps, [{ltest, {git, "git://github.com/lfex/ltest.git", {tag, "0.9.0"}}}]}
  ]}
]}.

%%% Release

{relx, [
  {release, {lfe_elli_example, "0.1.0"},
   [lfe_elli_example, {elli, load}]},
  {extended_start_script, true},
  {dev_mode,              true},
  {include_erts,          false}
]}.

%%% Plugins

{plugins, [
  {'lfe-compile',
    {git, "git://github.com/lfe-rebar3/compile.git",
     {tag, "0.5.0"}}},
  {rebar3_erlydtl_plugin,
   {git, "git://github.com/tsloughter/rebar3_erlydtl_plugin.git",
    {branch, "master"}}}
]}.

{project_plugins, [
  {lodox, {git, "git://github.com/lfe-rebar3/lodox.git", {tag, "0.15.1"}}}
]}.

%%% Hooks

{provider_hooks, [
  {pre, [{compile, {erlydtl, compile}}, {compile, {lfe, compile}}]}
]}.

%%% ErlyDTL

{erlydtl_opts, [
  {doc_root, "priv/templates"},
  {compiler_options, []},
  {source_ext, ".html"}
]}.

%%% Lodox

{lodox, [
  {apps, [
    {lfe_elli_example, [
      {'output-path', "docs"},
      {'source-uri',
       "https://github.com/lfex/lfe-elli-example"
       "/blob{version}/{filepath}#L{line}}"},
      {'excluded-modules', [
        'lfe-elli-example-sup',
        'lfe-elli-example-app'
      ]}
    ]}
  ]}
]}.
